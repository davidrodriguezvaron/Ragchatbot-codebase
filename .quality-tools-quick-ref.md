# Code Quality Tools - Quick Reference

## Before Committing Code

```bash
# Option 1: Use Make (recommended)
make format    # Auto-format your code
make check     # Run all checks

# Option 2: Use shell scripts
./format.sh
./quality-check.sh
```

## Individual Commands

| Task | Make Command | Shell Script | Direct Command |
|------|-------------|--------------|----------------|
| Format code | `make format` | `./format.sh` | `uv run black backend/ main.py && uv run isort backend/ main.py` |
| Lint code | `make lint` | `./lint.sh` | `uv run ruff check backend/ main.py` |
| Run tests | `make test` | - | `cd backend && uv run pytest` |
| Full check | `make check` | `./quality-check.sh` | See quality-check.sh |
| Clean cache | `make clean` | - | Manual cleanup |

## What Each Tool Does

- **Black**: Automatically formats Python code to a consistent style
- **isort**: Organizes and sorts import statements
- **Ruff**: Fast linter that catches bugs, errors, and style issues
- **pytest**: Runs your test suite

## Common Workflows

### 1. Before committing
```bash
make format     # Fix formatting
make check      # Verify everything passes
git add .
git commit -m "Your message"
```

### 2. After writing new code
```bash
make format     # Auto-format
make lint       # Check for issues
make test       # Run tests
```

### 3. Before pushing
```bash
make check      # Full quality check (includes tests)
```

## Fixing Issues

**If formatting fails:**
```bash
make format     # Auto-fix most issues
```

**If linting fails:**
- Read the error messages from Ruff
- Fix the issues manually
- Run `make lint` again

**If tests fail:**
- Check the test output
- Fix the failing tests
- Run `make test` again

## Editor Integration

Most editors can auto-format on save:

**VS Code:** Install Python extension, add to settings.json:
```json
{
  "[python]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "ms-python.black-formatter"
  }
}
```

**PyCharm:** Settings → Tools → Black → Enable "On save"

## Configuration

All settings in `pyproject.toml`:
- Line length: 100 characters
- Python version: 3.13+
- See file for complete configuration

## Need Help?

See `QUALITY.md` for detailed documentation.
